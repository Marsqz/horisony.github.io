<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Lazyload</title>
	<style>
		body{
			font-family: my-font;
		}
	    .img_day {
	    	display: block;
			margin-bottom: 10px;
			width: 300px;
	    }
	    .img_bg{
	    	height: 169px;
	    }
	    @font-face{
	    	font-family: my-font;
	    	src: url('fonts/AaRunXing-2.ttf');
	    }
	    .title{
	    	font-family: my-font;
	    }
    </style>
</head>
<body>
	<div class="title">标题</div>
	<img class = "img_day" src="img/loading.gif" data-src="img/day1.png">
	<img class = "img_day" src="img/loading.gif" data-src="img/day2.png">
	<img class = "img_day" src="img/loading.gif" data-src="img/day3.png">
	<img class = "img_day" src="img/loading.gif" data-src="img/day4.png">
	<img class = "img_day" src="img/loading.gif" data-src="img/day5.png">
	<img class = "img_day" src="img/loading.gif" data-src="img/day6.png">

	<div class="img_day img_bg" style="background: url(img/loading.gif) center; background-size: cover;" data-src="img/day12.png"></div>

   <script type="text/javascript" src="js/jquery-3.1.1.min.js"></script>
   
	<script type="text/javascript">
	   
	   	function lazyload() {
   		    var images = $('img');
   		    var images_bg = $('div.img_bg');
   		    var len    = images.length;
   		    var lenB   = images_bg.length;
   		    var n1     = 0;   
   		    var n2     = 0;   
   		    return function() {
	   			var windowHeight = $(window).height();
	   			var scrollTop = $(window).scrollTop() || 0;
	   			//images
	   			for(var i = n1; i < len; i++) {
	   			    if(images[i].offsetTop < windowHeight + scrollTop + 300) {
	   			        if(images[i].getAttribute('src') == 'img/loading.gif') {
	   				     images[i].src = images[i].getAttribute('data-src');
	   				}
	   				n1 = n1 + 1;
	   			    }
	   			}
	   			//images_bg
	   			for(var i = n2; i < lenB; i++) {
	   			    if(images_bg[i].offsetTop < windowHeight + scrollTop + 300) {
	   			        if(images_bg[i].style.backgroundImage == 'url(\"img/loading.gif\")') {
	   				     images_bg[i].style.backgroundImage = 'url('  + images_bg[i].getAttribute('data-src') + ')';
	   				}
	   				n2 = n2 + 1;
	   			    }
	   			}
   		    }
   		}
   		var loadImages = lazyload();
		loadImages(); 
   		window.addEventListener('scroll', lazyload(), false);
		window.addEventListener('resize', lazyload(), false);

	</script>

</body>
</html>